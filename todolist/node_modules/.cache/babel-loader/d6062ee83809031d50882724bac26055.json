{"ast":null,"code":"import _possibleConstructorReturn from \"/Users/lijunshuang/Documents/GitHub/mobx-test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lijunshuang/Documents/GitHub/mobx-test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lijunshuang/Documents/GitHub/mobx-test/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createClass from \"/Users/lijunshuang/Documents/GitHub/mobx-test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _initializerDefineProperty from \"/Users/lijunshuang/Documents/GitHub/mobx-test/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"/Users/lijunshuang/Documents/GitHub/mobx-test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _applyDecoratedDescriptor from \"/Users/lijunshuang/Documents/GitHub/mobx-test/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/lijunshuang/Documents/GitHub/mobx-test/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class,\n    _descriptor,\n    _descriptor2,\n    _descriptor3,\n    _temp,\n    _dec,\n    _class3,\n    _descriptor4,\n    _temp2,\n    _class5,\n    _class6,\n    _temp3,\n    _jsxFileName = \"/Users/lijunshuang/Documents/GitHub/mobx-test/src/App.js\";\n\nimport React, { Component } from \"react\";\nimport { observable, action } from 'mobx';\nimport PropTypes from 'prop-types';\nimport { observer, PropTypes as ObservablePropTypes } from 'mobx-react'; // import Page from './pages/Index'\n\nimport \"./App.scss\";\nvar Todo = (_class = (_temp = function Todo(title) {\n  _classCallCheck(this, Todo);\n\n  _initializerDefineProperty(this, \"id\", _descriptor, this);\n\n  _initializerDefineProperty(this, \"title\", _descriptor2, this);\n\n  _initializerDefineProperty(this, \"finished\", _descriptor3, this);\n\n  this.title = title;\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"id\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return Math.random();\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"title\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return \"\";\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"finished\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n})), _class);\nvar Store = (_dec = action.bound, (_class3 = (_temp2 =\n/*#__PURE__*/\nfunction () {\n  function Store() {\n    _classCallCheck(this, Store);\n\n    _initializerDefineProperty(this, \"todo\", _descriptor4, this);\n  }\n\n  _createClass(Store, [{\n    key: \"addTodo\",\n    value: function addTodo(title) {\n      this.todos.unshift(new Todo(title));\n    }\n  }]);\n\n  return Store;\n}(), _temp2), (_descriptor4 = _applyDecoratedDescriptor(_class3.prototype, \"todo\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class3.prototype, \"addTodo\", [_dec], Object.getOwnPropertyDescriptor(_class3.prototype, \"addTodo\"), _class3.prototype)), _class3));\nvar store = new Store();\n\nvar TodoList = observer(_class5 = (_temp3 = _class6 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TodoList, _Component);\n\n  function TodoList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TodoList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TodoList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      inputVal: ''\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var store = _this.props.store;\n      var inputVal = _this.state.inputVal;\n      store.addToto(inputVal);\n\n      _this.setState({\n        inputVal: ''\n      });\n    };\n\n    _this.haneldChange = function (e) {\n      var inputVal = e.target.value;\n\n      _this.setState({\n        inputVal: inputVal\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TodoList, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"todo-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"input\",\n        placeholder: \"What needs to finished ?\",\n        value: this.state.inputVal,\n        onChange: this.haneldChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }))), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"footer\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Refresh\"));\n    }\n  }]);\n\n  return TodoList;\n}(Component), _class6.propTypes = {\n  store: PropTypes.shape({\n    // 对store内的数据进行类型校验\n    addToto: PropTypes.func,\n    // todos为observableArray，其内数据为observableObject，isRequire表示store、todos必须存在\n    todos: ObservablePropTypes.observableArrayOf(ObservablePropTypes.observableObject).isRequired\n  }).isRequired\n}, _temp3)) || _class5;\n\nvar App =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(App, _Component2);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(TodoList, {\n        store: store,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/lijunshuang/Documents/GitHub/mobx-test/src/App.js"],"names":["React","Component","observable","action","PropTypes","observer","ObservablePropTypes","Todo","title","Math","random","Store","bound","todos","unshift","store","TodoList","state","inputVal","handleSubmit","e","preventDefault","props","addToto","setState","haneldChange","target","value","propTypes","shape","func","observableArrayOf","observableObject","isRequired","App"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,EAAqBC,MAArB,QAAmC,MAAnC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,QAAT,EAAmBD,SAAS,IAAIE,mBAAhC,QAA2D,YAA3D,C,CAEA;;AACA,OAAO,YAAP;IACMC,I,sBAKJ,cAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAAA;;AAAA;;AACjB,OAAKA,KAAL,GAAaA,KAAb;AACD,C,4EANAN,U;;;;;WAAgBO,IAAI,CAACC,MAAL,E;;yEAChBR,U;;;;;WAAmB,E;;4EACnBA,U;;;;;WAAsB,K;;;IAMnBS,K,WAGHR,MAAM,CAACS,K;;;;;;;;;;;4BAAcJ,K,EAAO;AAC5B,WAAKK,KAAL,CAAWC,OAAX,CAAmB,IAAIP,IAAJ,CAASC,KAAT,CAAnB;AAEA;;;;oFALAN,U;;;;;WAAkB,E;;;AAQrB,IAAMa,KAAK,GAAG,IAAIJ,KAAJ,EAAd;;IAGMK,Q,GADLX,Q;;;;;;;;;;;;;;;;;UAWCY,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE;AADJ,K;;UAIRC,Y,GAAe,UAACC,CAAD,EAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIN,KAAK,GAAG,MAAKO,KAAL,CAAWP,KAAvB;AACA,UAAIG,QAAQ,GAAG,MAAKD,KAAL,CAAWC,QAA1B;AACAH,MAAAA,KAAK,CAACQ,OAAN,CAAcL,QAAd;;AACA,YAAKM,QAAL,CAAc;AACZN,QAAAA,QAAQ,EAAE;AADE,OAAd;AAID,K;;UACDO,Y,GAAe,UAACL,CAAD,EAAO;AACpB,UAAIF,QAAQ,GAAGE,CAAC,CAACM,MAAF,CAASC,KAAxB;;AACA,YAAKH,QAAL,CAAc;AACZN,QAAAA,QAAQ,EAARA;AADY,OAAd;AAGD,K;;;;;;;6BACQ;AAEP,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,QAAQ,EAAE,KAAKC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,SAAS,EAAC,OAFZ;AAGE,QAAA,WAAW,EAAC,0BAHd;AAIE,QAAA,KAAK,EAAE,KAAKF,KAAL,CAAWC,QAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKO,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAfF,CADF;AAmBD;;;;EAnDoBxB,S,WACd2B,S,GAAY;AACjBb,EAAAA,KAAK,EAAEX,SAAS,CAACyB,KAAV,CAAgB;AACrB;AACAN,IAAAA,OAAO,EAAEnB,SAAS,CAAC0B,IAFE;AAGrB;AACAjB,IAAAA,KAAK,EAAEP,mBAAmB,CAACyB,iBAApB,CAAsCzB,mBAAmB,CAAC0B,gBAA1D,EAA4EC;AAJ9D,GAAhB,EAKJA;AANc,C;;IAoDfC,G;;;;;;;;;;;;;6BACK;AACP,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEL,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAEnB,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFK,CAAP;AAID;;;;EANed,S;;AAQlB,eAAeiC,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { observable, action } from 'mobx'\nimport PropTypes from 'prop-types'\nimport { observer, PropTypes as ObservablePropTypes } from 'mobx-react'\n\n// import Page from './pages/Index'\nimport \"./App.scss\"\nclass Todo { \n  @observable id = Math.random();\n  @observable title = \"\"\n  @observable finished = false\n\n  constructor(title) { \n    this.title = title\n  }\n}\nclass Store { \n  @observable todo = [];\n\n  @action.bound addTodo(title) {\n   this.todos.unshift(new Todo(title))\n\n  }\n}\n\nconst store = new Store()\n\n@observer\nclass TodoList extends Component {\n  static propTypes = {\n    store: PropTypes.shape({\n      // 对store内的数据进行类型校验\n      addToto: PropTypes.func,\n      // todos为observableArray，其内数据为observableObject，isRequire表示store、todos必须存在\n      todos: ObservablePropTypes.observableArrayOf(ObservablePropTypes.observableObject).isRequired\n    }).isRequired\n\n  }\n  state = {\n    inputVal :''\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n    let store = this.props.store\n    let inputVal = this.state.inputVal\n    store.addToto(inputVal)\n    this.setState({\n      inputVal: ''\n    })\n\n  }\n  haneldChange = (e) => { \n    let inputVal = e.target.value\n    this.setState({\n      inputVal\n    })\n  }\n  render() {\n\n    return (\n      <div className=\"todo-list\">\n        <header>\n          <form onSubmit={this.handleSubmit}>\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"What needs to finished ?\"\n              value={this.state.inputVal}\n              onChange={this.haneldChange}\n\n            />\n          </form>\n        </header>\n        <ul></ul>\n        <footer></footer>\n        <button>Refresh</button>\n      </div>\n    )\n  }\n}\nclass App extends Component {\n  render() {\n    return <div>\n\n      <TodoList store={store} />\n    </div>;\n  }\n}\nexport default App"]},"metadata":{},"sourceType":"module"}